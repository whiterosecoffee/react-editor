# Article module

All strictly article related concerns are the responsability of this module. This module should be able to stand on it's own in any Express app. Nothing in here should be used for anything that relates to more than just articles.

When this module aquires it's own dependencies on helpers and Node modules, it should be moved into a separate repository, packaged as an NPM, and mounted in the Kasra app (or any other app) as cleanly as any other piece of Express middleware. Then it's dependencies can be declared and managed by NPM, and we can prevent tight coupling with the rest of the first app that happens to host the Article module.

## API

Requests should be URL encoded or JSON encoded. Responses are JSON encoded unless specified otherwise.

Verb | Path | Parameters | Response | Description
-----|------|------------|----------|------------
GET | /articles	| | article | Fetch all articles.
GET | /	| articleSlug | article | Fetch one article by it's slug.
POST | /article	| title, body | article | Create a new article.

## Article Schema

Parameter | Type | Description
----------|------|------------
\_id | MongoDB ObjectID | Generated when an article is created in the database.
title | String | Maximum 100 characters.
slug | String | Maximum 74 characters. Generated by converting the title to a valid url path segment.
body | String | Minimum 80 characters.
publishDate | ISODate | ISO8601 compliant date string in the GMT timezone, i.e. `"2014-11-27T05:53:28.925Z"`
optionalHeadline | String | Will be moved to text block.
description | String | Secondary Headline/Description.
credit | String | citation
via | URL | citation location

## User Interface

This module provides two React components for viewing articles: `ArticleExcerpt` and `ArticleDetails`. `ArticleDetails` fetches it's data when it is mounted, by firing a fetchArticle action. `ArticleExcerpt` is just a view: it renders article data passed in by it's parent component.

# Uploader
Currently used to upload images in the article editor. Has the potential to be used to upload other media and file types.

## Acceptable Image Formats
-  png, jpeg, jpg
-  validated using Joi

## Dimensions
- currently set to accept minimum dimensions of 795 x 395, taking into account a 5px margin from 800 x 400
- no maximum dimensions have been set
- validated using Joi

## Validation
- currently not displaying user notifications

On successful image upload an action is submitted to create an article, so that the image url can be attached to an article. The file is uploaded and stored on Amazon S3.

## Data Saved On Image Upload
Currently when an image is uploaded its associated data is saved with the article data. The following fields are saved:

- imageType
- articleId
- url
- imageSlug
- created_at

## Testing
- middleware - index.js to be confirmed.
